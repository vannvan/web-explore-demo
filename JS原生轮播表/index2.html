<!DOCTYPE html>   
<!--[if lt IE 7 ]> <html lang="zh-CN" class="ie6"> <![endif]-->
<!--[if IE 7 ]> <html lang="zh-CN" class="ie7"> <![endif]-->
<!--[if IE 8 ]> <html lang="zh-CN" class="ie8"> <![endif]-->
<!--[if IE 9 ]> <html lang="zh-CN" class="ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html lang="zh-CN"> <!--<![endif]-->
<head>
<title>demo</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
body,ul,dl,dd,h1,h2,h3,h4,h5,h6,p,form{margin:0;padding:0;font:12px "宋体",'Microsoft YaHei',Arial,Helvetica,sans-serif;}
ul,ol{padding-left:0;list-style-type:none;}
img{border:0 none;}
em,i{font-style:normal;}
input,textarea,select{font-size:12px;font-size:100%;font-family:inherit;}
.x-airBox{width: 240px;color: #555;border:1px solid #e6bb86;border-top-width: 2px;margin:0 auto;}
.air_inner{margin:1px;position: relative;background: #f7f0e8;}
.x-airBox .hd{height: 25px;line-height: 25px;border-bottom:1px solid #e6c8ac;}
.x-airBox .x-hd{height: 25px;line-height: 25px;border-bottom:1px solid #e6c8ac;}
.x-airBox .hd-txt{color: #444444;margin-top: 5px;padding-left: 10px;font-weight: bold;}
.x-airBox .download{color: #444;text-decoration: none;padding-right: 5px;}
.x-airBox .download:hover{color: #444;text-decoration: underline;}
.x-airBox .toptit{text-align: center;padding:5px 0;color: #e28000;}
.tb-airbox{border-collapse: collapse;text-align: center;}
.tb-airbox th{padding: 5px 0;background: #fceadc;border-top: 1px dashed #fbd9b2;border-bottom: 1px dashed #fbd9b2;}
.tb-airbox-x{border-collapse: collapse;text-align: center;}
.tb-airbox-x td{padding: 5px 0;}

#list li{padding:5px;}
</style>
</head>
<body style="padding:5px;">
		<div class="gap"></div>
		<div class="x-airBox" >
			<div class="air_inner">
				<div class="x-airBox-ctn">
					<h2 class="toptit">张家港市区</h2>
					<table width="100%" cellpadding="0" cellspacing="0" class="tb-airbox">
						<tr>
							<th width="40%">站点名称</th>
							<th width="30%">AQI</th>
							<th width="30%">类别</th>
						</tr>
					</table>
					<div class="tb-wrapper" style="height:48px;overflow:hidden;">
						<table width="100%" cellpadding="0" cellspacing="0" class="tb-airbox-x" id="tb-scroll">
							    <tr>
							    	<td width="40%">工业园区1</td>
							    	<td width="30%">123</td>
							    	<td width="30%">轻度污染</td>
							    </tr>
							    <tr>
							    	<td>工业园区2</td>
							    	<td>123</td>
							    	<td>轻度污染</td>
							    </tr>
							    <tr>
							    	<td>工业园区3</td>
							    	<td>123</td>
							    	<td>轻度污染</td>
							    </tr>
							    <tr>
							    	<td>工业园区4</td>
							    	<td>123</td>
							    	<td>轻度污染</td>
							    </tr>
							     <tr>
							    	<td>工业园区5</td>
							    	<td>123</td>
							    	<td>轻度污染</td>
							    </tr>
							     <tr>
							    	<td>工业园区6</td>
							    	<td>123</td>
							    	<td>轻度污染</td>
							    </tr>
							     <tr>
							    	<td>工业园区7</td>
							    	<td>123</td>
							    	<td>轻度污染</td>
							    </tr>
							     <tr>
							    	<td>工业园区8</td>
							    	<td>123</td>
							    	<td>轻度污染</td>
							    </tr>
							   
						</table>
					</div>
				</div>
			</div>
		</div>
		<div style="width:200px;height:100px;overflow:hidden;border:1px solid #ddd;margin:20px auto;">
			<ul id="list">
				<li><a href="#">2222222222222222222222222</a></li>
				<li><a href="#">3333333333333333333333333</a></li>
				<li><a href="#">22222222222222222222222222</a></li>
				<li><a href="#">22222222222223222222222222</a></li>
				<li><a href="#">22222222222222422222222222</a></li>
				<li><a href="#">2222222222222252222222222</a></li>
				<li><a href="#">22222222225555552222222222</a></li>
				<li><a href="#">22222222222253333333222222</a></li>
				<li><a href="#">22222222277777777222222</a></li>
			</ul>
		</div>
		<script type="text/javascript">
		     /*
		     * 列表定时滚动效果(javascript)
		     * @listId :滚动列表ID
		     * @listTagName :滚动元素
		     * @scrollNum :设置滚动元素数量 
		     * @speed : 滚动速度
		     */
		    function fnScrollList(){
		    	 this.init.apply(this,arguments);
		    }
		    fnScrollList.prototype = {
		    	init:function(listId,TagName,scrollNum,speed){
		    		var _this = this;
		    		this.oList = this.$$(listId);
		    		this.scrollTimer = null;
		    		this.speed = speed || 1000;
		    		this.scrollNum = scrollNum || 1;
		    		this.TagName =TagName;
		    		this.distance = this.oList.getElementsByTagName(TagName)[0].offsetHeight * this.scrollNum;//列表移动距离
		    		this.oList.style.marginTop = 0 + "px";

		    		this.oList.onmouseover = function(){
		    			_this.pause();
		    		}	
		    		this.oList.onmouseout = function(){
		    			_this.scrollTimer= setTimeout(function(){
		    				_this.play();
		    			},_this.speed);
		    		}
		    		this.play();
		    	},
		    	play:function(){
		    		var _this = this;
		    		var options = {'marginTop':'-'+_this.distance};
		    		_this.anim(_this.oList,options,function(){ //回调函数，移动列表元素
		    			for(var i = 0,j = 0;i<_this.scrollNum;i++){
		    				var node = _this.oList.getElementsByTagName(_this.TagName)[j];
		    				if(_this.TagName == "tr"){
		    					_this.oList.getElementsByTagName('tbody')[0].appendChild(node);
		    				}else{
		    					_this.oList.appendChild(node);
		    				}
		    			}
		    			_this.oList.style.marginTop = "0px";
		    		});

					_this.scrollTimer= setTimeout(function(){
		    				_this.play(_this.distance);
		    			},_this.speed);		    		
		    	},
		    	pause:function(){
		    		clearTimeout(this.scrollTimer);
		    	},
		    	//动画函数
		    	anim:function(oElement,oAttr,fnCallback){ 
		    		var _this = this;
		    		clearInterval(oElement.timer);
		    		oElement.timer = setInterval(function(){
		    			var bStop = true;
		    			for(var property in oAttr){
		    				var iCur = parseFloat(_this.css(oElement, property)); //获取当前位置属性值
							var iSpeed = (oAttr[property] - iCur) / 5; //移动进度
							iSpeed = iSpeed > 0 ? Math.ceil(iSpeed) : Math.floor(iSpeed);
							if (iCur != oAttr[property]) { //如果当前数值不等于目标数值，则数值递增
								bStop = false;
								_this.css(oElement, property, iCur + iSpeed);
							}
		    			}
		    			if(bStop){
		    				clearInterval(oElement.timer);
							fnCallback && fnCallback.apply(_this, arguments);
		    			}
		    		},50);
		    	},
		    	//处理样式函数
		    	css:function(oElement, attr, value){
		    		if (arguments.length == 2) {
						return oElement.currentStyle ? oElement.currentStyle[attr] : getComputedStyle(oElement, null)[attr];
					} else if (arguments.length == 3) {
						switch (attr) {
							case "top":
							case "left":
							case "marginTop":
								oElement.style[attr] = value + "px";
								break;
							default:
								oElement.style[attr] = value;
								break;
						}
					}
		    	},
		    	$$:function(o){
		    		if(o){
		    			return document.getElementById(o);
		    		}
		    	}
		    };

		 var scrollList = new fnScrollList('tb-scroll','tr',2,2000);
		 var list = new fnScrollList('list','li',2,2000);
		</script>
</body>
</html>